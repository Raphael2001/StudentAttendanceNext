@use "styles/functions";

@use "styles/settings";

@use "styles/mixins";

$border: #888888;

$disabled: #b6b6b6;

.custom-datepicker-wrapper {
	width: functions.rem(220);
	&.active {
		.custom-datepicker-btn-wrapper {
			z-index: 20;
		}
		.custom-datepicker {
			z-index: 30;
		}
	}

	&.open-year-month-select {
		.custom-datepicker {
			:global(.react-datepicker-popper) {
				:global(.react-datepicker) {
					:global(.react-datepicker__month-container) {
						:global(.react-datepicker__day-name),
						:global(.react-datepicker__day) {
							pointer-events: none;
						}
					}
				}
			}
		}
	}

	.custom-datepicker-btn-wrapper {
		position: relative;
		display: flex;
		border: 1px solid $border;
		border-radius: functions.rem(3);
		width: 100%;
		height: functions.rem(40);
		justify-content: space-between;
		align-items: center;
		padding-right: functions.rem(13);
		padding-left: functions.rem(10);
		.custom-datepicker-btn {
			position: absolute;
			top: 25%;
			right: functions.rem(13);
			font-family: settings.$font-light;
			font-size: functions.rem(16);
			line-height: functions.rem(18);
			transition: all 200ms;
			&.floating {
				top: -25%;
				background: white;
				right: functions.rem(5);
				font-size: functions.rem(14);
				font-family: settings.$font;
				padding-left: functions.rem(10);
				padding-right: functions.rem(3);
			}
		}
		.custom-datepicker-icon {
			margin-right: auto;
		}
		.custom-datepicker-date-selected {
			font-family: settings.$font-light;
			font-size: functions.rem(16);
		}
	}
	.custom-datepicker {
		height: 100%;
		position: absolute;
		left: unset;
		right: unset;
		display: unset;

		:global(.react-datepicker-wrapper) {
			visibility: hidden;
		}
		:global(.react-datepicker__tab-loop) {
			:global(.react-datepicker-popper) {
				position: static !important;
				padding: 0;
				display: block;
				transform: translate3d(0px, -6px, 0px) !important;

				:global(.react-datepicker) {
					width: functions.rem(279);
					border: 1px solid $border;
					padding-bottom: functions.rem(25);
					:global(.react-datepicker__triangle) {
						display: block;
						transform: translate3d(0, 0px, 0px) !important;
						right: functions.rem(50) !important;
						left: unset !important;
						&::before {
							border-bottom-color: $border;
						}
						&::after {
							border-bottom-color: white;
						}
					}
					:global(.react-datepicker__month-container) {
						width: 100%;
						float: unset;

						:global(.react-datepicker__header) {
							background: white;
							border: none;
							padding: 0;
							.header-select {
								position: relative;
								.header-wrapper {
									padding: functions.rem(22) functions.rem(20);
									display: flex;
									justify-content: space-between;
									.selected-month-year {
										font-size: functions.rem(18);
										line-height: functions.rem(18);
										color: settings.$cms-main-color;
										display: flex;

										font-family: settings.$font-light;
										gap: functions.rem(12);
									}
									.nav-months {
										display: flex;
										gap: functions.rem(10);

										.arrow-up {
											transform: rotate(180deg);
										}
									}
								}
								.select-year-month {
									position: absolute;
									top: functions.rem(50);
									bottom: 0;
									height: functions.rem(238);
									background: white;
									display: flex;
									flex-direction: column;
									justify-content: center;
									align-items: center;
									.select-month,
									.select-year {
										display: none;
										&.show {
											display: block;
										}
									}
									.today-button {
										margin-top: functions.rem(33);
										border: 1px solid $border;
										width: functions.rem(129);
										height: functions.rem(35);
										border-radius: functions.rem(3);
										font-size: functions.rem(16);
										line-height: functions.rem(18);
									}
								}
							}
							:global(.react-datepicker__day-names) {
								:global(.react-datepicker__day-name) {
									font-size: functions.rem(14);
								}
							}
						}
						:global(.react-datepicker__day-name),
						:global(.react-datepicker__day) {
							width: functions.rem(30);
							height: functions.rem(30);
							line-height: functions.rem(30);
							text-align: center;
							vertical-align: middle;
							font-family: settings.$font-light;
							margin: functions.rem(2);
						}
						:global(.react-datepicker__month) {
							:global(.react-datepicker__week) {
								:global(.react-datepicker__day) {
									font-size: functions.rem(16);
									color: settings.$cms-main-color;
									font-family: settings.$font;

									&:hover {
										background-color: settings.$cms-main-light-color;
									}
									&:global(.react-datepicker__day--selected) {
										background-color: settings.$cms-main-color;
										border-radius: 50%;
										color: white;
										font-family: settings.$font-medium;
									}
									&:global(.react-datepicker__day--disabled) {
										color: $disabled;
									}
									&:global(.react-datepicker__day--outside-month) {
										opacity: 0;
									}
								}
							}
						}
					}
				}
			}
		}
	}
}
